{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\ud83e\udd41 beatstoch","text":"Stochastic Drum Pattern Generator <p>Transform any song into unique, probabilistic MIDI drum patterns</p>  [![PyPI version](https://badge.fury.io/py/beatstoch.svg)](https://pypi.org/project/beatstoch/) [![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/) [![License: Unlicense](https://img.shields.io/badge/license-Unlicense-green.svg)](https://unlicense.org/)"},{"location":"#install-in-seconds","title":"\u26a1 Install in Seconds","text":"pippipxuv <pre><code>pip install beatstoch\n</code></pre> <pre><code>pipx install beatstoch\n</code></pre> <pre><code>uv tool install beatstoch\n</code></pre>"},{"location":"#quick-demo","title":"\ud83c\udfac Quick Demo","text":"<pre><code># Generate drums that match any song's BPM\nbeatstoch generate \"Billie Jean\" --artist \"Michael Jackson\"\n\n# Rock beat at 120 BPM\nbeatstoch generate-bpm 120 --style rock\n\n# Shuffle blues with human feel\nbeatstoch generate-bpm 85 --style blues --humanize 0.6\n\n# Jazz ride pattern\nbeatstoch generate-bpm 140 --style jazz\n</code></pre> <p>Output: Standard MIDI file ready for any DAW \ud83c\udfb9</p>"},{"location":"#7-unique-styles","title":"\ud83c\udfa8 7 Unique Styles","text":"<ul> <li> <p> House</p> <p>Four-on-the-floor, driving hi-hats, snare/clap layers</p> <p>EDM \u00b7 Techno \u00b7 Minimal</p> </li> <li> <p> Breaks</p> <p>Syncopated kicks, complex hats, funky grooves</p> <p>Breakbeat \u00b7 DnB \u00b7 Hip-hop</p> </li> <li> <p> Rock</p> <p>Powerful backbeat, 8<sup>th</sup> note hats, crash accents</p> <p>Rock \u00b7 Alternative \u00b7 Metal</p> </li> <li> <p> Blues</p> <p>Shuffle feel, ride cymbal, ghost notes</p> <p>Blues \u00b7 12-bar \u00b7 Slow rock</p> </li> <li> <p> Indie</p> <p>Loose feel, floor tom accents, rimshots</p> <p>Indie rock \u00b7 Lo-fi \u00b7 Alternative</p> </li> <li> <p> Jazz</p> <p>Classic ride pattern, sparse comping, swing</p> <p>Jazz \u00b7 Bebop \u00b7 Fusion</p> </li> <li> <p> Generic</p> <p>Balanced patterns for any genre</p> <p>Demos \u00b7 Experimentation</p> </li> </ul>"},{"location":"#powered-by-mathematics","title":"\ud83e\udde0 Powered by Mathematics","text":"<p>beatstoch doesn't just randomize\u2014it uses psychoacoustic algorithms for patterns that sound natural:</p> Algorithm Purpose Golden Ratio Natural spacing and timing Fibonacci Sequences Probability distribution Fractal Patterns Self-similar complexity Psychoacoustic Balancing Perceived naturalness"},{"location":"#full-control","title":"\ud83c\udf9b\ufe0f Full Control","text":"<pre><code>beatstoch generate-bpm 128 \\\n    --style house \\           # 7 styles available\n    --bars 16 \\               # Pattern length\n    --meter 4/4 \\             # Time signature (2/4, 3/4, 4/4)\n    --humanize 0.6 \\          # Ghost notes + timing variation\n    --groove-intensity 0.8 \\  # Swing and feel\n    --predictability 0.7      # 1.0=mechanical, 0.0=chaotic\n</code></pre>"},{"location":"#python-library","title":"\ud83d\udc0d Python Library","text":"<pre><code>from beatstoch import generate_stochastic_pattern\n\n# Generate a rock beat\nmidi = generate_stochastic_pattern(\n    bpm=120,\n    bars=8,\n    style=\"rock\",\n    humanize=0.5,\n    predictability=0.8\n)\nmidi.save(\"my_beat.mid\")\n</code></pre>"},{"location":"#documentation","title":"\ud83d\udcda Documentation","text":"<ul> <li> <p> User Guide</p> <p>Complete CLI reference, all options, examples</p> </li> <li> <p> API Reference</p> <p>Python library documentation</p> </li> <li> <p> Developer Guide</p> <p>Contributing, architecture, testing</p> </li> </ul>"},{"location":"#gm-drum-compatible","title":"\ud83c\udfb5 GM Drum Compatible","text":"<p>All patterns use General MIDI standard\u2014works with any DAW, synth, or drum machine:</p> <ul> <li>30+ drum/percussion sounds</li> <li>Kicks, snares, hi-hats, cymbals</li> <li>Toms, percussion, cowbell \ud83d\udd14</li> </ul>   **Ready to make some noise?**  [Get Started :material-arrow-right:](user-guide.md){ .md-button .md-button--primary } [View on GitHub :material-github:](https://github.com/james-see/beatstoch){ .md-button }"},{"location":"api-reference/","title":"API Reference","text":"<p>Complete reference for the beatstoch Python library.</p>"},{"location":"api-reference/#main-functions","title":"Main Functions","text":""},{"location":"api-reference/#generate_from_song","title":"<code>generate_from_song()</code>","text":"<p>Generate a MIDI drum pattern by looking up a song's BPM from the database.</p> <pre><code>generate_from_song(\n    song_title: str,\n    artist: Optional[str] = None,\n    bars: int = 8,\n    style: str = \"house\",\n    meter: Tuple[int, int] = (4, 4),\n    steps_per_beat: int = 4,\n    swing: float = 0.10,\n    intensity: float = 0.9,\n    groove_intensity: float = 0.7,\n    humanize: float = 0.0,\n    seed: Optional[int] = None,\n    fallback_bpm: Optional[float] = None,\n    verbose: bool = False,\n) -&gt; Tuple[mido.MidiFile, float]\n</code></pre> <p>Parameters: - <code>song_title</code> (str): Title of the song to look up - <code>artist</code> (str, optional): Artist name for improved BPM lookup accuracy - <code>bars</code> (int): Number of bars to generate (default: 8) - <code>style</code> (str): Drum pattern style - \"house\", \"breaks\", or \"generic\" (default: \"house\") - <code>meter</code> (Tuple[int, int]): Time signature as (numerator, denominator) (default: (4, 4)) - <code>steps_per_beat</code> (int): Time resolution (default: 4, i.e., 16<sup>th</sup> notes) - <code>swing</code> (float): Swing amount 0.0-1.0 (default: 0.10) - <code>intensity</code> (float): Pattern density 0.0-1.0 (default: 0.9) - <code>groove_intensity</code> (float): Psychoacoustic groove strength 0.0-1.0 (default: 0.7) - <code>humanize</code> (float): Humanization amount 0.0-1.0 - adds ghost notes and timing variation (default: 0.0) - <code>seed</code> (int, optional): Random seed for reproducible patterns - <code>fallback_bpm</code> (float, optional): BPM to use if database lookup fails - <code>verbose</code> (bool): Enable verbose logging (default: False)</p> <p>Returns: - Tuple of (MIDI file object, detected BPM as float)</p> <p>Raises: - <code>RuntimeError</code>: If BPM lookup fails and no fallback BPM provided</p> <p>Example: <pre><code>from beatstoch import generate_from_song\n\nmidi_file, bpm = generate_from_song(\n    \"1979\",\n    artist=\"Smashing Pumpkins\",\n    bars=16,\n    style=\"house\",\n    swing=0.12,\n    groove_intensity=0.8,\n    humanize=0.5,\n    verbose=True\n)\n\nprint(f\"Generated {midi_file.length} seconds at {bpm} BPM\")\nmidi_file.save(\"drums.mid\")\n</code></pre></p>"},{"location":"api-reference/#generate_stochastic_pattern","title":"<code>generate_stochastic_pattern()</code>","text":"<p>Generate a MIDI drum pattern with explicit BPM (no database lookup).</p> <pre><code>generate_stochastic_pattern(\n    bpm: float,\n    bars: int = 4,\n    meter: Tuple[int, int] = (4, 4),\n    steps_per_beat: int = 4,\n    swing: float = 0.12,\n    intensity: float = 0.9,\n    seed: int = 42,\n    style: str = \"house\",\n    groove_intensity: float = 0.7,\n    humanize: float = 0.0,\n) -&gt; mido.MidiFile\n</code></pre> <p>Parameters: - <code>bpm</code> (float): Target BPM for the pattern - <code>bars</code> (int): Number of bars to generate (default: 4) - <code>meter</code> (Tuple[int, int]): Time signature as (numerator, denominator) - supports (4, 4), (3, 4), (2, 4) (default: (4, 4)) - <code>steps_per_beat</code> (int): Time resolution (default: 4, i.e., 16<sup>th</sup> notes) - <code>swing</code> (float): Swing amount 0.0-1.0 (default: 0.12) - <code>intensity</code> (float): Pattern density 0.0-1.0 (default: 0.9) - <code>seed</code> (int): Random seed for reproducible patterns (default: 42) - <code>style</code> (str): Drum pattern style - \"house\", \"breaks\", or \"generic\" (default: \"house\") - <code>groove_intensity</code> (float): Psychoacoustic groove strength 0.0-1.0 (default: 0.7) - <code>humanize</code> (float): Humanization amount 0.0-1.0 - adds ghost notes and timing variation (default: 0.0)</p> <p>Returns: - MIDI file object</p> <p>Example: <pre><code>from beatstoch import generate_stochastic_pattern\n\n# Standard breakbeat pattern\npattern = generate_stochastic_pattern(\n    bpm=128.0,\n    bars=8,\n    style=\"breaks\",\n    swing=0.08,\n    intensity=0.85,\n    seed=123\n)\npattern.save(\"breakbeat_pattern.mid\")\n\n# Humanized 3/4 waltz pattern\nwaltz = generate_stochastic_pattern(\n    bpm=90.0,\n    bars=8,\n    meter=(3, 4),\n    style=\"generic\",\n    humanize=0.7,\n    groove_intensity=0.6\n)\nwaltz.save(\"waltz_humanized.mid\")\n</code></pre></p>"},{"location":"api-reference/#time-signatures","title":"Time Signatures","text":"<p>The <code>meter</code> parameter controls the time signature and affects accent patterns:</p> Meter Feel Accent Pattern <code>(4, 4)</code> Standard Strong - weak - medium - weak <code>(3, 4)</code> Waltz Strong - weak - weak <code>(2, 4)</code> March Strong - weak"},{"location":"api-reference/#humanize-mode","title":"Humanize Mode","text":"<p>The <code>humanize</code> parameter (0.0-1.0) adds two key elements:</p> <p>Ghost Notes: Subtle snare hits (velocity 25-50) on weak subdivisions (\"e\" and \"a\" positions)</p> <p>Timing Variation: Random \u00b115ms offsets scaled by humanize amount</p> <p>Recommended values: - <code>0.0</code> - Machine-perfect timing (default) - <code>0.2-0.4</code> - Subtle humanization, tight feel - <code>0.5-0.7</code> - Natural human feel, noticeable ghost notes - <code>0.8-1.0</code> - Loose, expressive feel with prominent ghost notes</p>"},{"location":"api-reference/#drum-styles","title":"Drum Styles","text":""},{"location":"api-reference/#house","title":"House","text":"<p>Characteristics: - Four-on-the-floor kick pattern - Steady hi-hat pattern with openings - Snare on beats 2 and 4 - Clean, repetitive structure</p> <p>Best for: House, techno, minimal techno</p>"},{"location":"api-reference/#breaks","title":"Breaks","text":"<p>Characteristics: - Complex kick patterns - Varied snare placement - Syncopated hi-hat patterns - Breakbeat-inspired rhythms</p> <p>Best for: Breakbeat, drum &amp; bass, hip-hop, experimental</p>"},{"location":"api-reference/#generic","title":"Generic","text":"<p>Characteristics: - Balanced patterns - Moderate complexity - Works across multiple genres - Good starting point for experimentation</p> <p>Best for: General use, customization, learning</p>"},{"location":"api-reference/#advanced-usage","title":"Advanced Usage","text":""},{"location":"api-reference/#custom-random-seeds","title":"Custom Random Seeds","text":"<pre><code>import time\n\n# Use current time for truly random patterns\ncurrent_time = int(time.time())\nmidi_file, bpm = generate_from_song(\"Song Title\", seed=current_time)\n\n# Use song title for consistent patterns per song\nsong_seed = hash(\"Song Title - Artist\") % (2**31)\nmidi_file, bpm = generate_from_song(\"Song Title\", artist=\"Artist\", seed=song_seed)\n</code></pre>"},{"location":"api-reference/#batch-generation","title":"Batch Generation","text":"<pre><code>from beatstoch import generate_stochastic_pattern\n\n# Generate multiple variations\nstyles = [\"house\", \"breaks\", \"generic\"]\nbpms = [120, 125, 130]\n\nfor style in styles:\n    for bpm in bpms:\n        pattern = generate_stochastic_pattern(\n            bpm=bpm,\n            bars=8,\n            style=style,\n            seed=42  # Consistent seed for comparison\n        )\n        pattern.save(f\"pattern_{bpm}_{style}.mid\")\n</code></pre>"},{"location":"api-reference/#integration-with-daws","title":"Integration with DAWs","text":"<pre><code>from beatstoch import generate_from_song\n\n# Generate pattern for current project BPM\ndef generate_drums_for_project(song_title, artist, project_bpm, bars=8):\n    \"\"\"Generate drums, using project BPM as fallback if lookup fails.\"\"\"\n    try:\n        midi_file, detected_bpm = generate_from_song(\n            song_title,\n            artist=artist,\n            bars=bars,\n            fallback_bpm=project_bpm\n        )\n        print(f\"Using detected BPM: {detected_bpm}\")\n        return midi_file, detected_bpm\n    except RuntimeError:\n        # Fallback to project BPM\n        midi_file = generate_stochastic_pattern(project_bpm, bars=bars)\n        return midi_file, project_bpm\n\n# Example usage in a DAW automation script\ndrums, bpm = generate_drums_for_project(\"My Song\", \"My Artist\", 128)\ndrums.save(\"project_drums.mid\")\n</code></pre>"},{"location":"api-reference/#data-types","title":"Data Types","text":""},{"location":"api-reference/#midi-file-object","title":"MIDI File Object","text":"<p>Returns standard <code>mido.MidiFile</code> objects that can be: - Saved to disk: <code>midi_file.save(\"filename.mid\")</code> - Played with MIDI players - Imported into DAWs - Modified with additional MIDI events</p>"},{"location":"api-reference/#bpm-values","title":"BPM Values","text":"<ul> <li>Returned as <code>float</code> for precision</li> <li>Typical range: 60-200 BPM</li> <li>Represents the detected or specified tempo</li> </ul>"},{"location":"api-reference/#error-handling","title":"Error Handling","text":""},{"location":"api-reference/#common-exceptions","title":"Common Exceptions","text":"<pre><code>from beatstoch import generate_from_song\nimport requests\n\ntry:\n    midi_file, bpm = generate_from_song(\"Song Title\", artist=\"Artist\")\nexcept RuntimeError as e:\n    print(f\"BPM lookup failed: {e}\")\n    # Use fallback BPM\n    fallback_bpm = 120\n    midi_file = generate_stochastic_pattern(fallback_bpm, bars=8)\nexcept requests.RequestException as e:\n    print(f\"Network error: {e}\")\n    # Handle network issues\nexcept Exception as e:\n    print(f\"Unexpected error: {e}\")\n</code></pre>"},{"location":"api-reference/#network-issues","title":"Network Issues","text":"<p>The library makes HTTP requests to BPM databases. Handle network errors:</p> <pre><code>import requests\nfrom requests.adapters import HTTPAdapter\nfrom urllib3.util.retry import Retry\n\n# Configure retries for network requests\nretry_strategy = Retry(\n    total=3,\n    backoff_factor=1,\n    status_forcelist=[429, 500, 502, 503, 504],\n)\nadapter = HTTPAdapter(max_retries=retry_strategy)\nsession = requests.Session()\nsession.mount(\"http://\", adapter)\nsession.mount(\"https://\", adapter)\n</code></pre>"},{"location":"api-reference/#performance-considerations","title":"Performance Considerations","text":"<ul> <li>Memory Usage: MIDI files are generated in memory; large patterns may use significant RAM</li> <li>Generation Time: Complex patterns with high <code>steps_per_beat</code> take longer to generate</li> <li>Network Time: BPM lookups add latency (typically 1-3 seconds)</li> <li>File I/O: Saving large MIDI files to disk may take time</li> </ul>"},{"location":"api-reference/#thread-safety","title":"Thread Safety","text":"<p>The library is not thread-safe for random number generation when using default seeds. Use explicit seeds for concurrent generation:</p> <pre><code>import threading\nimport random\n\ndef generate_with_thread_id(bpm, thread_id):\n    # Use thread ID in seed for thread-safe generation\n    seed = hash((bpm, thread_id)) % (2**31)\n    return generate_stochastic_pattern(bpm, seed=seed)\n\n# Safe for concurrent use\nthreads = []\nfor i in range(10):\n    thread = threading.Thread(target=generate_with_thread_id, args=(128, i))\n    threads.append(thread)\n    thread.start()\n\nfor thread in threads:\n    thread.join()\n</code></pre>"},{"location":"developer-guide/","title":"Developer Guide","text":"<p>This guide covers development workflows, release processes, and project maintenance for the beatstoch project.</p>"},{"location":"developer-guide/#development-setup","title":"Development Setup","text":""},{"location":"developer-guide/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.9+ (tested on 3.9-3.14)</li> <li>uv package manager (recommended)</li> <li>Git</li> </ul>"},{"location":"developer-guide/#initial-setup","title":"Initial Setup","text":"<pre><code>git clone https://github.com/james-see/beatstoch.git\ncd beatstoch\nuv sync  # Install dependencies\n</code></pre>"},{"location":"developer-guide/#development-workflow","title":"Development Workflow","text":"<pre><code># Make your changes\n# ...\n\n# Run tests\nuv run python -m pytest\n\n# Test CLI functionality\nuv run beatstoch generate \"1979\" --artist \"Smashing Pumpkins\" --bars 2\n\n# Build package locally\nuv build\n</code></pre>"},{"location":"developer-guide/#release-process","title":"Release Process","text":""},{"location":"developer-guide/#version-management","title":"Version Management","text":"<p>The project uses semantic versioning (MAJOR.MINOR.PATCH).</p> <p>Update version in: - <code>pyproject.toml</code> (project.version) - <code>src/beatstoch/__init__.py</code> (if version is defined)</p>"},{"location":"developer-guide/#pre-release-checklist","title":"Pre-release Checklist","text":"<ul> <li> Update version numbers</li> <li> Update CHANGELOG.md with new features/fixes</li> <li> Run tests: <code>uv run python -m pytest</code></li> <li> Test CLI functionality</li> <li> Update documentation if needed</li> <li> Ensure all dependencies are properly pinned</li> </ul>"},{"location":"developer-guide/#github-release","title":"GitHub Release","text":""},{"location":"developer-guide/#automated-release-recommended","title":"Automated Release (Recommended)","text":"<p>The project includes GitHub Actions workflows that automatically create releases when tags are pushed.</p> <p>To create a release: <pre><code># Ensure you're on the main branch and up to date\ngit checkout main\ngit pull origin main\n\n# Create and push a version tag\nVERSION=\"1.0.0\"\ngit tag -a \"v${VERSION}\" -m \"Release version ${VERSION}\"\ngit push origin \"v${VERSION}\"\n</code></pre></p> <p>The GitHub Actions workflow will: 1. Build the package 2. Create a GitHub release 3. Upload distribution files as release assets</p>"},{"location":"developer-guide/#manual-release","title":"Manual Release","text":"<p>If automation fails, you can create releases manually:</p> <ol> <li>Go to GitHub Releases</li> <li>Click \"Create a new release\"</li> <li>Select the version tag you created</li> <li>Add release notes from CHANGELOG.md</li> <li>Upload built distribution files from <code>dist/</code> directory</li> </ol>"},{"location":"developer-guide/#pypi-release","title":"PyPI Release","text":""},{"location":"developer-guide/#automated-pypi-publishing","title":"Automated PyPI Publishing","text":"<p>The GitHub Actions workflow can automatically publish to PyPI when a release is created.</p> <p>Prerequisites: - PyPI account with the package name <code>beatstoch</code> - PyPI API token stored as <code>PYPI_API_TOKEN</code> secret in repository settings</p> <p>To enable automated PyPI publishing: 1. Go to repository Settings &gt; Secrets and variables &gt; Actions 2. Add <code>PYPI_API_TOKEN</code> with your PyPI API token value 3. The workflow will automatically publish to PyPI on tagged releases</p>"},{"location":"developer-guide/#manual-pypi-publishing","title":"Manual PyPI Publishing","text":"<p>If you prefer to publish manually or automation isn't set up:</p> <pre><code># Build distributions\nuv build\n\n# Upload to PyPI (requires API token)\nuv publish\n\n# Or using twine (if you have it installed)\ntwine upload dist/*\n</code></pre> <p>To get a PyPI API token: 1. Go to PyPI Account Settings 2. Create a new API token with upload permissions 3. Add it as <code>PYPI_API_TOKEN</code> in GitHub repository secrets</p>"},{"location":"developer-guide/#post-release-checklist","title":"Post-release Checklist","text":"<ul> <li> Verify package installs: <code>pip install beatstoch</code></li> <li> Test CLI: <code>beatstoch --help</code></li> <li> Verify GitHub release shows correct information</li> <li> Update any external references or documentation</li> </ul>"},{"location":"developer-guide/#project-structure","title":"Project Structure","text":"<pre><code>beatstoch/\n\u251c\u2500\u2500 src/beatstoch/          # Main package code\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 bpm.py             # BPM database integration\n\u2502   \u251c\u2500\u2500 generator.py       # MIDI generation logic\n\u2502   \u2514\u2500\u2500 cli.py             # Command-line interface\n\u251c\u2500\u2500 docs/                  # Documentation (GitHub Pages)\n\u251c\u2500\u2500 tests/                 # Test files\n\u251c\u2500\u2500 .github/workflows/     # GitHub Actions workflows\n\u251c\u2500\u2500 pyproject.toml         # Project configuration\n\u251c\u2500\u2500 uv.lock               # Dependency lock file\n\u251c\u2500\u2500 README.md             # Main documentation\n\u2514\u2500\u2500 CHANGELOG.md          # Release notes\n</code></pre>"},{"location":"developer-guide/#contributing","title":"Contributing","text":"<ol> <li>Fork the repository at https://github.com/james-see/beatstoch</li> <li>Create a feature branch: <code>git checkout -b feature/amazing-feature</code></li> <li>Make your changes</li> <li>Add tests if applicable</li> <li>Run the test suite: <code>uv run python -m pytest</code></li> <li>Commit your changes: <code>git commit -m 'Add amazing feature'</code></li> <li>Push to the branch: <code>git push origin feature/amazing-feature</code></li> <li>Open a Pull Request</li> </ol>"},{"location":"developer-guide/#testing","title":"Testing","text":"<pre><code># Run all tests\nuv run python -m pytest\n\n# Run with coverage\nuv run python -m pytest --cov=src/beatstoch\n\n# Run specific test file\nuv run python -m pytest tests/test_specific.py\n</code></pre>"},{"location":"developer-guide/#code-quality","title":"Code Quality","text":"<ul> <li>Follow PEP 8 style guidelines</li> <li>Add docstrings to public functions/classes</li> <li>Keep functions focused and reasonably sized</li> <li>Add type hints where appropriate</li> </ul>"},{"location":"developer-guide/#documentation","title":"Documentation","text":"<p>Documentation is built using MkDocs and hosted on GitHub Pages.</p> <p>To update documentation: 1. Edit files in the <code>docs/</code> directory 2. Preview locally: <code>mkdocs serve</code> 3. Changes are automatically deployed via GitHub Actions</p>"},{"location":"developer-guide/#troubleshooting","title":"Troubleshooting","text":""},{"location":"developer-guide/#common-issues","title":"Common Issues","text":"<p>BPM Database Connection Issues: - Ensure internet connection is available - Check if bpmdatabase.com is accessible - The fallback search.asp endpoint may not exist</p> <p>MIDI Generation Issues: - Ensure mido library is properly installed - Check that tempo messages are MetaMessage type (not Message)</p> <p>PyPI Upload Issues: - Verify PYPI_API_TOKEN is correctly set in GitHub secrets - Ensure package name <code>beatstoch</code> is available or owned by you - Check that all dependencies are properly specified</p>"},{"location":"developer-guide/#getting-help","title":"Getting Help","text":"<ul> <li>Check existing issues on GitHub</li> <li>Create a new issue with detailed information</li> <li>Include error messages, Python version, and steps to reproduce</li> </ul>"},{"location":"user-guide/","title":"User Guide","text":"<p>Complete guide for using beatstoch to generate drum patterns.</p>"},{"location":"user-guide/#installation","title":"Installation","text":""},{"location":"user-guide/#using-pip-recommended","title":"Using pip (recommended)","text":"<pre><code>pip install beatstoch\n</code></pre>"},{"location":"user-guide/#using-uv","title":"Using uv","text":"<pre><code>uv add beatstoch\n</code></pre>"},{"location":"user-guide/#development-installation","title":"Development Installation","text":"<pre><code>git clone &lt;repository-url&gt;\ncd beatstoch\nuv sync\n</code></pre>"},{"location":"user-guide/#command-line-interface","title":"Command Line Interface","text":""},{"location":"user-guide/#basic-usage","title":"Basic Usage","text":""},{"location":"user-guide/#generate-from-song-title","title":"Generate from Song Title","text":"<pre><code># Simple usage - just song title\nbeatstoch generate \"Billie Jean\"\n\n# With artist for better BPM accuracy\nbeatstoch generate \"1979\" --artist \"Smashing Pumpkins\"\n\n# Custom number of bars\nbeatstoch generate \"Around the World\" --artist \"Daft Punk\" --bars 16\n</code></pre>"},{"location":"user-guide/#generate-with-explicit-bpm","title":"Generate with Explicit BPM","text":"<pre><code># House style at 128 BPM\nbeatstoch generate-bpm 128 --style house --bars 8\n\n# Breaks style with custom settings\nbeatstoch generate-bpm 174 --style breaks --bars 32 --swing 0.15 --intensity 0.8\n</code></pre>"},{"location":"user-guide/#all-command-line-options","title":"All Command Line Options","text":""},{"location":"user-guide/#generate-command-song-lookup","title":"<code>generate</code> Command (Song Lookup)","text":"<pre><code>beatstoch generate [OPTIONS] TITLE\n\nOptions:\n  --artist TEXT          Artist name (improves BPM lookup accuracy)\n  --bars INTEGER         Number of bars to generate (default: 8)\n  --style [house|breaks|generic]  Drum style (default: house)\n  --meter TEXT           Time signature e.g. '4/4', '3/4', '2/4' (default: 4/4)\n  --humanize FLOAT       Humanization 0.0-1.0: adds ghost notes and timing variation (default: 0.0)\n  --steps-per-beat INTEGER        Resolution (default: 4)\n  --swing FLOAT          Swing amount 0.0-1.0 (default: 0.10)\n  --intensity FLOAT      Pattern density 0.0-1.0 (default: 0.9)\n  --groove-intensity FLOAT        Psychoacoustic groove strength 0.0-1.0 (default: 0.7)\n  --seed INTEGER         Random seed for reproducible patterns\n  --fallback-bpm FLOAT   BPM to use if lookup fails\n  --verbose             Show BPM lookup details\n  -h, --help            Show this message and exit\n</code></pre>"},{"location":"user-guide/#generate-bpm-command-explicit-bpm","title":"<code>generate-bpm</code> Command (Explicit BPM)","text":"<pre><code>beatstoch generate-bpm [OPTIONS] BPM\n\nOptions:\n  --bars INTEGER         Number of bars (default: 8)\n  --style [house|breaks|generic]  Drum style (default: house)\n  --meter TEXT           Time signature e.g. '4/4', '3/4', '2/4' (default: 4/4)\n  --humanize FLOAT       Humanization 0.0-1.0: adds ghost notes and timing variation (default: 0.0)\n  --steps-per-beat INTEGER        Resolution (default: 4)\n  --swing FLOAT          Swing amount (default: 0.10)\n  --intensity FLOAT      Pattern density (default: 0.9)\n  --groove-intensity FLOAT        Psychoacoustic groove strength 0.0-1.0 (default: 0.7)\n  --seed INTEGER         Random seed\n  -h, --help            Show this message and exit\n</code></pre>"},{"location":"user-guide/#time-signatures-meter","title":"Time Signatures (Meter)","text":"<p>The <code>--meter</code> option sets the time signature with natural accent patterns:</p> Meter Feel Accent Pattern <code>4/4</code> Standard Strong - weak - medium - weak <code>3/4</code> Waltz Strong - weak - weak <code>2/4</code> March Strong - weak <pre><code># Waltz in 3/4\nbeatstoch generate-bpm 90 --meter 3/4 --style generic\n\n# March in 2/4\nbeatstoch generate-bpm 110 --meter 2/4 --humanize 0.5\n</code></pre>"},{"location":"user-guide/#humanize-mode","title":"Humanize Mode","text":"<p>The <code>--humanize</code> option (0.0-1.0) makes patterns sound less mechanical:</p> <p>Ghost Notes: Subtle snare hits (velocity 25-50) on weak subdivisions Timing Variation: Random \u00b115ms offsets scaled by humanize amount</p> <p>Recommended values: - <code>0.0</code> - Machine-perfect timing (default) - <code>0.2-0.4</code> - Subtle humanization, tight feel - <code>0.5-0.7</code> - Natural human feel, noticeable ghost notes - <code>0.8-1.0</code> - Loose, expressive feel with prominent ghost notes</p> <pre><code># Subtle humanization\nbeatstoch generate-bpm 128 --humanize 0.3\n\n# Natural feel\nbeatstoch generate-bpm 120 --humanize 0.6 --style house\n\n# Full humanization\nbeatstoch generate-bpm 90 --meter 3/4 --humanize 1.0\n</code></pre>"},{"location":"user-guide/#python-library","title":"Python Library","text":""},{"location":"user-guide/#basic-usage_1","title":"Basic Usage","text":"<pre><code>from beatstoch import generate_from_song, generate_stochastic_pattern\n\n# Generate from song lookup\nmidi_file, bpm = generate_from_song(\"1979\", artist=\"Smashing Pumpkins\")\nprint(f\"Found BPM: {bpm}\")\nmidi_file.save(\"drums.mid\")\n\n# Generate with explicit BPM\nmidi_file = generate_stochastic_pattern(bpm=127, bars=8, style=\"house\")\nmidi_file.save(\"house_drums.mid\")\n</code></pre>"},{"location":"user-guide/#advanced-usage","title":"Advanced Usage","text":"<pre><code>from beatstoch import generate_from_song, generate_stochastic_pattern\n\n# Song lookup with full customization\nmidi_file, bpm = generate_from_song(\n    song_title=\"Billie Jean\",\n    artist=\"Michael Jackson\",\n    bars=16,                    # 16 bars long\n    style=\"breaks\",             # Breakbeat style\n    meter=(4, 4),               # Time signature\n    steps_per_beat=4,           # 16th note resolution\n    swing=0.12,                 # Light swing\n    intensity=0.85,             # Dense pattern\n    groove_intensity=0.8,       # Psychoacoustic groove\n    humanize=0.5,               # Ghost notes and timing variation\n    seed=42,                    # Reproducible\n    fallback_bpm=120            # Fallback if lookup fails\n)\n\n# Explicit BPM with full control\nmidi_file = generate_stochastic_pattern(\n    bpm=174,\n    bars=32,\n    meter=(4, 4),               # Time signature\n    steps_per_beat=8,           # 32nd note resolution\n    swing=0.08,                 # Subtle swing\n    intensity=0.7,              # Sparse pattern\n    groove_intensity=0.7,       # Psychoacoustic groove\n    humanize=0.6,               # Humanization\n    seed=123,\n    style=\"generic\"             # All-purpose style\n)\n\nmidi_file.save(\"complex_pattern.mid\")\n\n# Humanized 3/4 waltz\nmidi_file = generate_stochastic_pattern(\n    bpm=90,\n    bars=8,\n    meter=(3, 4),               # Waltz time\n    humanize=0.8,               # Heavy ghost notes\n    style=\"generic\"\n)\nmidi_file.save(\"waltz_humanized.mid\")\n</code></pre>"},{"location":"user-guide/#function-signatures","title":"Function Signatures","text":""},{"location":"user-guide/#generate_from_song","title":"<code>generate_from_song()</code>","text":"<pre><code>generate_from_song(\n    song_title: str,\n    artist: Optional[str] = None,\n    bars: int = 8,\n    style: str = \"house\",\n    meter: Tuple[int, int] = (4, 4),\n    steps_per_beat: int = 4,\n    swing: float = 0.10,\n    intensity: float = 0.9,\n    groove_intensity: float = 0.7,\n    humanize: float = 0.0,\n    seed: Optional[int] = None,\n    fallback_bpm: Optional[float] = None,\n    verbose: bool = False,\n) -&gt; Tuple[MidiFile, float]\n</code></pre> <p>Returns: Tuple of (MIDI file object, detected BPM)</p>"},{"location":"user-guide/#generate_stochastic_pattern","title":"<code>generate_stochastic_pattern()</code>","text":"<pre><code>generate_stochastic_pattern(\n    bpm: float,\n    bars: int = 4,\n    meter: Tuple[int, int] = (4, 4),\n    steps_per_beat: int = 4,\n    swing: float = 0.12,\n    intensity: float = 0.9,\n    seed: int = 42,\n    style: str = \"house\",\n    groove_intensity: float = 0.7,\n    humanize: float = 0.0,\n) -&gt; MidiFile\n</code></pre> <p>Returns: MIDI file object</p>"},{"location":"user-guide/#drum-styles","title":"Drum Styles","text":""},{"location":"user-guide/#house-style","title":"House Style","text":"<ul> <li>Four-on-the-floor kick on every beat</li> <li>Snare/clap layered on beats 2 and 4</li> <li>Driving hi-hat patterns with open hat accents</li> <li>Crash cymbal on bar 1 every 4 bars</li> <li>Best for: House, techno, EDM, minimal</li> </ul>"},{"location":"user-guide/#breaks-style","title":"Breaks Style","text":"<ul> <li>Syncopated kick pattern (steps 0, 6, 8, 14)</li> <li>Snare on beats 2 and 4 with ghost notes</li> <li>Complex hi-hat patterns</li> <li>Best for: Breakbeat, drum &amp; bass, hip-hop, jungle</li> </ul>"},{"location":"user-guide/#rock-style","title":"Rock Style","text":"<ul> <li>Kick on beats 1 and 3 with pickup notes</li> <li>Strong snare backbeat on 2 and 4</li> <li>Driving 8<sup>th</sup> note hi-hats</li> <li>Open hat accents on upbeats</li> <li>Crash cymbal accents, ride bell on beat 1</li> <li>Best for: Rock, alternative, punk, metal</li> </ul>"},{"location":"user-guide/#blues-style","title":"Blues Style","text":"<ul> <li>Shuffle feel (approximated triplet groove)</li> <li>Kick on beats with shuffle \"and\"</li> <li>Snare on 2 and 4 with ghost notes</li> <li>Ride cymbal shuffle pattern (not hi-hats)</li> <li>Pedal hi-hat on 2 and 4</li> <li>Best for: Blues, shuffle, 12-bar, slow rock</li> </ul>"},{"location":"user-guide/#indie-style","title":"Indie Style","text":"<ul> <li>Kick on 1 and 3, occasional beat 4</li> <li>Snare on 2 and 4 with occasional rimshot</li> <li>Sparse, driving hi-hat pattern</li> <li>Floor tom accent on beat 4</li> <li>Minimal cymbal use</li> <li>Best for: Indie rock, alternative, lo-fi</li> </ul>"},{"location":"user-guide/#jazz-style","title":"Jazz Style","text":"<ul> <li>Classic jazz ride pattern (1, 2-and, 3, 4-and)</li> <li>Sparse, comping kick (fractal placement)</li> <li>Cross-stick/brush snare feel</li> <li>Hi-hat on 2 and 4 with foot</li> <li>No crashes - clean cymbal work</li> <li>Best for: Jazz, swing, bebop, fusion</li> </ul>"},{"location":"user-guide/#generic-style","title":"Generic Style","text":"<ul> <li>Balanced kick on every beat</li> <li>Standard snare backbeat on 2 and 4</li> <li>Natural hi-hat variation</li> <li>Crash cymbal on bar 1 every 4 bars</li> <li>Best for: General use, experimentation, demos</li> </ul>"},{"location":"user-guide/#gm-drum-map-reference","title":"GM Drum Map Reference","text":"<p>beatstoch uses General MIDI (GM) standard drum note assignments. All generated MIDI files are compatible with any GM-compliant synthesizer, DAW, or drum machine.</p>"},{"location":"user-guide/#kicks-notes-35-36","title":"Kicks (Notes 35-36)","text":"Key Note GM Name <code>kick</code> 36 Bass Drum 1 <code>kick_acoustic</code> 35 Acoustic Bass Drum"},{"location":"user-guide/#snares-claps-notes-37-40","title":"Snares &amp; Claps (Notes 37-40)","text":"Key Note GM Name <code>snare</code> 38 Acoustic Snare <code>snare_electric</code> 40 Electric Snare <code>side_stick</code> 37 Side Stick / Rimshot <code>clap</code> 39 Hand Clap"},{"location":"user-guide/#hi-hats-notes-42-44-46","title":"Hi-Hats (Notes 42, 44, 46)","text":"Key Note GM Name <code>closed_hat</code> 42 Closed Hi-Hat <code>pedal_hat</code> 44 Pedal Hi-Hat <code>open_hat</code> 46 Open Hi-Hat"},{"location":"user-guide/#cymbals-notes-49-59","title":"Cymbals (Notes 49-59)","text":"Key Note GM Name <code>crash</code> 49 Crash Cymbal 1 <code>crash2</code> 57 Crash Cymbal 2 <code>ride</code> 51 Ride Cymbal 1 <code>ride_bell</code> 53 Ride Bell <code>ride2</code> 59 Ride Cymbal 2 <code>splash</code> 55 Splash Cymbal <code>china</code> 52 Chinese Cymbal"},{"location":"user-guide/#toms-notes-41-50","title":"Toms (Notes 41-50)","text":"Key Note GM Name <code>tom_low</code> 41 Low Floor Tom <code>tom_floor_high</code> 43 High Floor Tom <code>tom_mid</code> 45 Low Tom <code>tom_mid_low</code> 47 Low-Mid Tom <code>tom_mid_high</code> 48 Hi-Mid Tom <code>tom_high</code> 50 High Tom"},{"location":"user-guide/#percussion-notes-54-77","title":"Percussion (Notes 54-77)","text":"Key Note GM Name <code>tambourine</code> 54 Tambourine <code>cowbell</code> 56 Cowbell <code>bongo_high</code> 60 Hi Bongo <code>bongo_low</code> 61 Low Bongo <code>conga_mute</code> 62 Mute Hi Conga <code>conga_high</code> 63 Open Hi Conga <code>conga_low</code> 64 Low Conga <code>claves</code> 75 Claves <code>woodblock_high</code> 76 Hi Wood Block <code>woodblock_low</code> 77 Low Wood Block"},{"location":"user-guide/#output-files","title":"Output Files","text":"<p>Generated MIDI files use descriptive naming: - <code>stoch_[artist]_[title]_[bpm]bpm_[meter].mid</code> (from song lookup) - <code>stoch_[artist]_[title]_[bpm]bpm_[meter]_humanized.mid</code> (with humanize &gt; 0) - <code>stoch_[bpm]bpm_[meter].mid</code> (from explicit BPM) - <code>stoch_[bpm]bpm_[meter]_humanized.mid</code> (with humanize &gt; 0)</p> <p>Example filenames: <pre><code>stoch_michael_jackson_billie_jean_117bpm_44.mid\nstoch_dave_brubeck_take_five_174bpm_34_humanized.mid\nstoch_128bpm_44_humanized.mid\n</code></pre></p> <p>Files are standard MIDI format compatible with: - Ableton Live - FL Studio - Logic Pro - Pro Tools - Any MIDI-compatible software</p>"},{"location":"user-guide/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/#bpm-lookup-issues","title":"BPM Lookup Issues","text":"<ul> <li>Ensure internet connection is available</li> <li>Some songs may not be in the BPM database</li> <li>Use <code>--fallback-bpm</code> to specify a default BPM</li> <li>Enable <code>--verbose</code> to see lookup process</li> </ul>"},{"location":"user-guide/#midi-issues","title":"MIDI Issues","text":"<ul> <li>Ensure you have a MIDI player or DAW installed</li> <li>Files are standard MIDI format 1</li> <li>Import into any DAW as MIDI tracks</li> </ul>"},{"location":"user-guide/#common-errors","title":"Common Errors","text":"<p><pre><code>BPM lookup failed and no fallback BPM provided\n</code></pre> - Add <code>--fallback-bpm 120</code> or similar</p> <p><pre><code>network error querying BPMDatabase\n</code></pre> - Check internet connection - BPM Database website may be temporarily unavailable</p>"},{"location":"user-guide/#examples-by-genre","title":"Examples by Genre","text":""},{"location":"user-guide/#electronichouse","title":"Electronic/House","text":"<pre><code>beatstoch generate-bpm 128 --style house --bars 32 --intensity 0.8\n</code></pre>"},{"location":"user-guide/#hip-hoptrap","title":"Hip-Hop/Trap","text":"<pre><code>beatstoch generate-bpm 140 --style breaks --bars 16 --swing 0.15 --intensity 0.6\n</code></pre>"},{"location":"user-guide/#drum-bass","title":"Drum &amp; Bass","text":"<pre><code>beatstoch generate-bpm 174 --style breaks --bars 64 --swing 0.08 --intensity 0.9\n</code></pre>"},{"location":"user-guide/#general-purpose","title":"General Purpose","text":"<pre><code>beatstoch generate \"Your Favorite Song\" --artist \"Artist Name\" --bars 8\n</code></pre>"}]}